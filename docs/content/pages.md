# Управление контентом страниц

**Версия: 1.0.0**

Этот документ описывает структуру данных для страниц, управляемых через блочный редактор.

## 1. Модель данных

Страницы хранятся в таблице `pages` и имеют следующие ключевые поля:

- `slug`: Уникальный идентификатор страницы в URL (например, `about-us`).
- `status`: Состояние страницы (`draft`, `published`, `archived`).
- `title`: Основной заголовок страницы, используется в `<title>` и `<h1>`.
- `seoMeta`: JSONB-объект для SEO-атрибутов (`title`, `description`, `keywords`).
- `contentBlocks`: JSONB-массив, содержащий контентные блоки.

## 2. Структура контентных блоков

Каждый объект в массиве `contentBlocks` имеет общие поля `id` (уникальный ID блока) и `type` (тип блока), а также набор полей, специфичных для каждого типа.

### Общая структура блока

```json
{
  "id": "block_1724425898145",
  "type": "hero",
  "data": {
    // ... поля, специфичные для типа
  }
}
```

### 2.1. `hero` - Главный экран

Отображает большой заголовок, подзаголовок, фоновое изображение и опциональную кнопку (CTA).

```json
{
  "id": "block_1",
  "type": "hero",
  "data": {
    "title": "Эксклюзивные туры в Сочи",
    "subtitle": "Откройте для себя город с новой стороны",
    "backgroundImage": "gcs/path/to/hero-image.jpg",
    "cta": {
      "text": "Смотреть туры",
      "url": "/routes"
    }
  }
}
```

### 2.2. `text` - Текстовый блок

Простой блок для форматированного текста (поддерживает Markdown или HTML).

```json
{
  "id": "block_2",
  "type": "text",
  "data": {
    "content": "<h2>О нашей компании</h2><p>Мы работаем с 2015 года и предлагаем...</p>"
  }
}
```

### 2.3. `gallery` - Галерея изображений

Отображает сетку или карусель изображений.

```json
{
  "id": "block_3",
  "type": "gallery",
  "data": {
    "images": [
      { "src": "gcs/path/to/image1.jpg", "alt": "Вид на горы" },
      { "src": "gcs/path/to/image2.jpg", "alt": "Прогулка на яхте" }
    ],
    "layout": "carousel" // "grid" или "carousel"
  }
}
```

### 2.4. `features` - Список преимуществ

Блок для отображения списка ключевых особенностей с иконками.

```json
{
  "id": "block_4",
  "type": "features",
  "data": {
    "title": "Почему выбирают нас",
    "items": [
      { "icon": "shield-check", "title": "Безопасность", "description": "Все гиды сертифицированы." },
      { "icon": "star", "title": "Высокий рейтинг", "description": "Оценка 4.9 на всех площадках." }
    ]
  }
}
```

### 2.5. `price_table` - Таблица цен

Отображает сравнительную таблицу тарифов или услуг.

```json
{
  "id": "block_5",
  "type": "price_table",
  "data": {
    "title": "Наши тарифы",
    "headers": ["Услуга", "Длительность", "Цена"],
    "rows": [
      ["Полет на вертолете", "30 минут", "25000 RUB"],
      ["Прогулка на катере", "2 часа", "15000 RUB"]
    ]
  }
}
```

### 2.6. `route_map` - Карта маршрута

Интерактивная или статическая карта, показывающая маршрут.

```json
{
  "id": "block_6",
  "type": "route_map",
  "data": {
    "title": "Карта нашего маршрута",
    "mapUrl": "https://yandex.ru/maps/...", // URL или ID для интеграции
    "markers": [
      { "lat": 43.5855, "lng": 39.723, "label": "Старт" }
    ]
  }
}
```

### 2.7. `cta` - Призыв к действию

Яркий блок для привлечения внимания и мотивации к действию.

```json
{
  "id": "block_7",
  "type": "cta",
  "data": {
    "title": "Готовы к приключениям?",
    "button": {
      "text": "Забронировать сейчас",
      "url": "/booking"
    }
  }
}
```
