# Мобильный и десктопный UI — правила и паттерны

Ниже — концентрат практик под твой стек (Next.js + Tailwind + shadcn/ui). Сначала — как должно выглядеть и вести себя на мобиле, потом — на десктопе, и главное: как «переламывать» интерфейс между ними.

---

# Мобильный вид (≤768 px)

## Каркас экрана

* **Одна колонка**, липкий top-bar.
* **Bottom-nav (3–5 пунктов)** для главных разделов; FAB для главного действия.
* **Off-canvas drawer** для второстепенного меню/фильтров.

## Списки и данные

* **Карточки вместо таблиц** (ключевые поля сверху, вторичное — в подзаголовке).
* **Виртуализация** списков >100 элементов.
* **Пагинация** или «Показать ещё», бесконечный скролл — только для фидов.

## Формы

* **Шаги/экраны по одному** (wizard), минимизируй вертикальный скролл.
* **Поле ≥44 px высотой**, label всегда видим, клавиатура не перекрывает поле (scroll-into-view).
* **Автоформат** ввода (телефон, дата), `inputmode` и `autocomplete`.
* **Кнопка отправки** липкая внизу (safe area).

## Навигация и состояние

* **Skeleton-блоки** на месте контента (>300 мс).
* **Empty-state**: иконка + 1-2 строки пояснения + CTA.
* **Toast** компактный, не перекрывает навигацию.

## Адаптивные размеры

* **Тач-таргеты ≥44×44 px**, отступы ≥8 px.
* База шрифта **16 px** (чтобы не было авто-зумов).

## Производительность

* `next/image` с правильными `sizes` для мобилы.
* Отложенные графики/тяжёлые виджеты `dynamic(..., { ssr:false })` ниже первого экрана.
* Никаких лишних анимаций; уважать `prefers-reduced-motion`.

## Запреты (mobile)

* Таблицы с 10+ колонками — **нельзя**.
* Модалки на модалках — **нельзя** (используй bottom sheet / отдельный экран).
* Тап-таргеты <44 px — **нельзя**.

---

# Десктопный вид (≥1024 px)

## Каркас и сетка

* **App-shell:** top-bar + постоянный **левый сайдбар** (collapsible).
* **Сетка 12 колонок**, макс-ширина контейнера 1200–1280 px.
* **Breadcrumbs** при глубине >2, панель действий справа.

## Данные и инструменты

* **Таблицы** с фиксированным заголовком, ресайзом колонок, сортировкой, множественным выбором.
* **Панель фильтров** слева/справа (не модалка), чипы выбранных фильтров над таблицей.
* **Пакетные действия** и «Отменить» (undo).

## Формы

* **Две колонки** для длинных форм, «Review & Submit» экран перед сохранением.
* Горячие клавиши (⌘/Ctrl+S — сохранить, Esc — закрыть).

## Навигация и состояние

* Ховеры/подсказки, контекстные меню по правому клику (дополнительно к кнопкам).
* **Skeleton** в секциях, а не глобальный лоадер.

## Производительность

* Предзагрузка часто посещаемых маршрутов на hover.
* Большие таблицы/чарты — виртуализация/дефер.

## Запреты (desktop)

* Скрывать ключевые действия только в «троеточии» — **нельзя**.
* Полноэкранные модалки без причин — **нельзя** (используй панель/док).

---

# Как «ломать» макет (mobile ↔ desktop)

| Что            | Мобайл                       | Десктоп                   |
| -------------- | ---------------------------- | ------------------------- |
| Навигация      | Bottom-nav + drawer          | Sidebar + top-bar         |
| Таблица        | Карточки                     | Полная таблица            |
| Фильтры        | Bottom sheet / полноэкранная | Постоянная боковая панель |
| Действия       | FAB / верхняя кнопка         | Toolbar справа/сверху     |
| Формы          | Один шаг на экран            | 2 колонки + обзор         |
| Хлебные крошки | Спрятаны/укорочены           | Полные breadcrumbs        |

---

# Tailwind-шпаргалка (под шадсиn/ui)

**Breakpoints (по умолчанию Tailwind):**

* `sm: 640px`, `md: 768px`, `lg: 1024px`, `xl: 1280px`.

**Контейнер:**

```tsx
<div className="mx-auto w-full max-w-[1280px] px-4 sm:px-6 lg:px-8" />
```

**Адаптивный shell:**

```tsx
// Мобайл: скрываем сайдбар, показываем bottom-nav
<header className="sticky top-0 z-40 border-b bg-background">...</header>

<aside className="hidden lg:block w-64 shrink-0 border-r">...</aside>

<main className="flex-1">{children}</main>

<nav className="lg:hidden fixed bottom-0 inset-x-0 border-t bg-background">
  {/* 3–5 кнопок */}
</nav>
```

**Таблица → карточки:**

```tsx
{/* mobile */}
<ul className="md:hidden space-y-3">
  {rows.map(r => (
    <li key={r.id} className="rounded-2xl border p-4">
      <div className="font-medium">{r.title}</div>
      <div className="text-muted-foreground">{r.subtitle}</div>
      <div className="mt-2 flex justify-between">
        <span>{r.status}</span>
        <Button size="sm">Открыть</Button>
      </div>
    </li>
  ))}
</ul>

{/* desktop */}
<div className="hidden md:block">
  {/* твоя таблица shadcn/ui + sticky header */}
</div>
```

**Фильтры:**

```tsx
{/* desktop */}
<aside className="hidden lg:block w-80 border-l p-4">...</aside>

{/* mobile */}
<Sheet>
  <SheetTrigger asChild><Button variant="outline">Фильтры</Button></SheetTrigger>
  <SheetContent side="bottom" className="h-[75vh]">...</SheetContent>
</Sheet>
```

---

# Чек-лист адаптива перед мёрджем

**Мобайл**

* [ ] Все интерактивы ≥44 px; фокус видим.
* [ ] Ничего не уходит под системные панели (safe areas).
* [ ] Клавиатура не ломает форму; submit доступен.
* [ ] Список: empty-state, skeleton, пагинация/«ещё».

**Десктоп**

* [ ] Навигация: breadcrumbs, sidebar, toolbar последователен.
* [ ] Таблица: сорт, фильтры, sticky header, множественный выбор.
* [ ] Горячие клавиши и ховеры не блокируют мышь/клаву.
* [ ] Длинные формы читаемы (2 колонки, выравнивание label/inputs).

**Общее**

* [ ] URL отражает состояние (фильтры/сорт/поиск).
* [ ] Темы (light/dark), контраст ≥4.5:1, `prefers-reduced-motion`.
* [ ] Нет «тяжёлых» блоков выше фолда на мобиле.
* [ ] Ошибки локальны, с понятным действием «Исправить/Повторить».

---

# Доп. рекомендации для лучшего UX

* **Одно главное действие на экран.** Вторичное — менее контрастно.
* **Единый словарь терминов** (микрокопирайтинг): одинаковые названия везде.
* **Оптимистичные апдейты** и явный откат при ошибке.
* **Сохранение контекста** при переходах (скролл-позиция, выбранные фильтры).
* **Демо-данные/пресеты** для «пустых» первых заходов.
